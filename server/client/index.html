<!DOCTYPE html>
<html>

<head>
  <title>SleepyZzz Simulator</title>
  <script src="node_modules/socket.io-client/dist/socket.io.js" type="text/javascript"></script>
  <script>
    var url = window.location.protocol + '//' + window.location.hostname + ':' + window.location.port
    var socket = io.connect('http://localhost:8080');
    document.onkeypress = function(e) {
      e = e || window.event;
      var charCode = (typeof e.which == "number") ? e.which : e.keyCode;
      console.log(charCode);
      if (String.fromCharCode(charCode) === 'h') {
        var data = {
          bpm: Math.random() * (160 - 90) + 90,
          device: '-KpeRPjghebc5YjXyFSf'
        };
        socket.emit('heartrate', data);
      }

      if (String.fromCharCode(charCode) === 't') {
        var data = {
          temperature: Math.random() * (40 - 33) + 33,
          device: '-KpeRPjghebc5YjXyFSf'
        };
        socket.emit('temperature', data);
      }

      if (String.fromCharCode(charCode) === 'm') {
        var data = {
          x: 0,
          y: 0,
          z: Math.random() * (210 - 20) + 20,
          device: '-KpeRPjghebc5YjXyFSf'
        };
        socket.emit('movement', data);
      }

      if (String.fromCharCode(charCode) === 'b') {
        var data = {
          percentage: Math.random() * (100 - 0) + 0,
          device: '-KpeRPjghebc5YjXyFSf'
        };
        socket.emit('battery', data);
      }

      if (String.fromCharCode(charCode) === 'l') {
        window.setInterval(function() {
          var data = {
            bpm: Math.random() * (160 - 90) + 90,
            device: '-KpeRPjghebc5YjXyFSf'
          };
          socket.emit('heartrate', data);
        }, 1000);

        window.setInterval(function() {
          var data = {
            x: 0,
            y: 0,
            z: Math.random() * (210 - 20) + 20,
            device: '-KpeRPjghebc5YjXyFSf'
          };
          socket.emit('movement', data);
        }, 2000);

        window.setInterval(function() {
          var data = {
            temperature: Math.random() * (40 - 33) + 33,
            device: '-KpeRPjghebc5YjXyFSf'
          };
          socket.emit('temperature', data);
        }, 3000);

        window.setInterval(function() {
          var data = {
            percentage: Math.random() * (100 - 0) + 0,
            device: '-KpeRPjghebc5YjXyFSf'
          };
          socket.emit('battery', data);
        }, 60000);
      }
    };
  </script>
</head>

<body>
  <h1>SleepyZzz Simulator</h1>
</body>

</html>
